import{h as ye,i as ee,l as te,r as m,B as E,A as fe,c as d,a as e,b as f,t as s,g as p,p as w,q as C,m as we,w as F,s as x,d as _,v as M,F as D,D as q,C as Ce,e as Me,o as i,j as ze}from"./app-CQqk7krA.js";import{u as je}from"./persone-B80aqGc-.js";import{p as Be}from"./personaService-BcRaQCsB.js";import{t as Ve}from"./tipoLegameService-BhADrk6Y.js";import{t as Le,_ as N}from"./SearchableSelect-wWayIY9P.js";import{_ as $e,a as Ie,b as Ue,c as Pe,e as Se}from"./TagSection-DW1llP4S.js";import{_ as Ee}from"./MapView-C9T9LXOR.js";const Ae={class:"bg-gray-200 dark:bg-gray-900 h-full flex flex-col overflow-hidden"},Te={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 flex-shrink-0",style:{"z-index":"100"}},He={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2"},Ne={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2"},Fe={class:"flex items-center gap-3"},De={class:"text-xl font-bold text-gray-900 dark:text-white"},qe={class:"text-xs text-gray-500 dark:text-gray-400"},Oe={key:0,class:"flex items-center gap-2"},Re=["disabled"],Ge={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Je={key:1,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},Ke={class:"flex-1 overflow-y-auto"},Qe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-4 pt-3"},We={key:0,class:"flex items-center justify-center py-12"},Xe={class:"text-center"},Ye={class:"text-gray-600 dark:text-gray-400"},Ze={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},et={class:"bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-2"},tt={class:"text-base font-bold text-white flex items-center gap-2"},ot={class:"p-4 space-y-4"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},at={class:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5"},st={class:"flex items-center gap-1.5"},nt=["placeholder"],lt={class:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5"},it={class:"flex items-center gap-1.5"},dt=["placeholder"],pt={class:"border-t border-gray-200 dark:border-gray-700 pt-3"},ut={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2 flex items-center gap-1.5"},gt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},ct={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},mt=["placeholder"],bt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},vt={class:"border-t border-gray-200 dark:border-gray-700 pt-3"},xt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2 flex items-center gap-1.5"},kt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},_t={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},ht=["placeholder"],yt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},ft={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},wt={class:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},Ct={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Mt={class:"space-y-2"},zt={class:"flex items-center justify-between"},jt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},Bt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},Vt={key:0,class:"mb-1.5"},Lt={class:"flex items-center gap-2"},$t={class:"flex-1 min-w-0"},It={class:"text-xs font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors truncate"},Ut={key:1,class:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"},Pt={class:"flex items-center gap-2"},St={class:"flex-1 text-xs text-gray-900 dark:text-white"},Et={class:"space-y-1.5"},At=["disabled"],Tt=["title"],Ht={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},Nt={key:0,class:"mb-1.5"},Ft={class:"flex items-center gap-2"},Dt={class:"flex-1 min-w-0"},qt={class:"text-xs font-semibold text-gray-900 dark:text-white group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors truncate"},Ot={key:1,class:"p-2 bg-pink-50 dark:bg-pink-900/20 rounded-lg border border-pink-200 dark:border-pink-800"},Rt={class:"flex items-center gap-2"},Gt={class:"flex-1 text-xs text-gray-900 dark:text-white"},Jt={class:"space-y-1.5"},Kt=["disabled"],Qt=["title"],Wt={class:"space-y-2"},Xt={class:"flex items-center justify-between mb-2"},Yt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},Zt={key:0,class:"mb-2 p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800"},eo={class:"flex flex-col gap-2"},to=["disabled","title"],oo=["title"],ro={class:"text-center text-sm text-gray-600 dark:text-gray-400"},ao={key:1,class:"space-y-1.5"},so={class:"flex items-center gap-2"},no={class:"flex-1 min-w-0"},lo={class:"text-sm font-semibold text-gray-900 dark:text-white truncate"},io=["onClick","title"],po={class:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-2"},uo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},go=["onUpdate:modelValue"],co={value:""},mo=["value"],bo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},vo=["onUpdate:modelValue"],xo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},ko=["onUpdate:modelValue","placeholder"],_o={class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 pt-2 border-t border-purple-200 dark:border-purple-800"},ho={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},yo=["onUpdate:modelValue"],fo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},wo=["onUpdate:modelValue","placeholder"],Co={key:2,class:"text-xs text-gray-500 dark:text-gray-400 italic"},Mo={class:"flex items-center justify-between mb-2"},zo={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},jo={key:0,class:"mb-2 p-2 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800"},Bo={class:"flex flex-col gap-2"},Vo=["disabled","title"],Lo=["title"],$o={class:"text-center text-sm text-gray-600 dark:text-gray-400"},Io={key:1,class:"space-y-1.5"},Uo={class:"flex items-center gap-2"},Po={class:"flex-1 min-w-0"},So={class:"text-sm font-semibold text-gray-900 dark:text-white truncate"},Eo=["onClick","title"],Ao={key:2,class:"text-xs text-gray-500 dark:text-gray-400 italic"},To={key:0,class:"text-center py-6"},Ho={class:"text-sm text-gray-500 dark:text-gray-400"},No={class:"grid grid-cols-1 lg:grid-cols-6 gap-4 items-stretch",style:{"min-height":"680px"}},Fo={class:"lg:col-span-2 flex w-full"},Do={class:"lg:col-span-4 flex w-full"},qo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oo={class:"flex"},Ro={class:"flex"},er={__name:"Edit",setup(Go){const c=fe(),U=Me(),n=je(),P=ye(),o=r=>P.t(r);ee(()=>{Object.keys(P.translations).length===0&&P.loadTranslations()}),te(()=>P.locale,()=>{P.loadTranslations()});const b=m({nome:"",cognome:"",nato_a:"",nato_il:"",deceduto_a:"",deceduto_il:""}),S=m(!1),O=m([]),R=m([]),G=m([]),A=m(!1),T=m(!1),V=m(""),L=m(""),$=m(""),I=m(""),z=m([]),j=m([]),h=m(""),y=m(""),H=m([]),J=E(()=>z.value.map(r=>r.id)),K=E(()=>j.value.map(r=>r.id)),oe=r=>[...r].sort((t,g)=>{const v=(t.cognome||"").toLowerCase(),a=(g.cognome||"").toLowerCase();if(v!==a)return v.localeCompare(a,"it");const l=(t.nome||"").toLowerCase(),u=(g.nome||"").toLowerCase();return l.localeCompare(u,"it")}),B=E(()=>oe(O.value)),re=E(()=>{var v,a;const r=((v=n.persona)==null?void 0:v.nato_a)&&n.persona.nato_a!=="0"&&n.persona.nato_a!=="",t=((a=n.persona)==null?void 0:a.deceduto_a)&&n.persona.deceduto_a!=="0"&&n.persona.deceduto_a!=="",g=H.value.some(l=>l.luogo&&l.luogo!=="0"&&l.luogo!=="");return r||t||g}),ae=E(()=>{var g,v,a,l,u;const r=[],t=((g=n.persona)==null?void 0:g.nome_completo)||`${(v=n.persona)==null?void 0:v.nome} ${(a=n.persona)==null?void 0:a.cognome}`;return(l=n.persona)!=null&&l.nato_a&&n.persona.nato_a!=="0"&&n.persona.nato_a!==""&&r.push({nome:t+" - "+o("persona.birth_place"),luogo:n.persona.nato_a,tipo:"nascita",data:n.persona.nato_il}),(u=n.persona)!=null&&u.deceduto_a&&n.persona.deceduto_a!=="0"&&n.persona.deceduto_a!==""&&r.push({nome:t+" - "+o("persona.death_place"),luogo:n.persona.deceduto_a,tipo:"morte",data:n.persona.deceduto_il}),H.value.forEach(k=>{if(k.luogo&&k.luogo!=="0"&&k.luogo!==""){const he=se(k.tipo_evento);r.push({nome:t+" - "+he+": "+k.titolo,luogo:k.luogo,tipo:k.tipo_evento,data:k.data_evento,descrizione:k.descrizione})}}),r}),se=r=>({nascita:o("eventi.birth"),battesimo:o("eventi.baptism"),comunione:o("eventi.communion"),cresima:o("eventi.confirmation"),primo_giorno_asilo:o("eventi.first_day_kindergarten"),primo_giorno_scuola:o("eventi.first_day_school"),licenza_elementare:o("eventi.elementary_license"),licenza_media:o("eventi.middle_school_license"),diploma_superiore:o("eventi.high_school_diploma"),laurea:o("eventi.graduation"),matrimonio:o("eventi.marriage"),divorzio:o("eventi.divorce"),lavoro:o("eventi.work"),cambio_lavoro:o("eventi.job_change"),militare:o("eventi.military"),guerra:o("eventi.war"),trasloco:o("eventi.move"),emigrazione:o("eventi.emigration"),immigrazione:o("eventi.immigration"),malattia:o("eventi.illness"),guarigione:o("eventi.recovery"),pensione:o("eventi.retirement"),morte:o("eventi.death"),sepoltura:o("eventi.burial"),altro:o("eventi.other")})[r]||r,Q=async()=>{var r;if(c.params.id)try{const t=await Se.getByPersona(parseInt(c.params.id));H.value=((r=t.data)==null?void 0:r.data)||t.data||[]}catch(t){console.error("Errore nel caricamento degli eventi per la mappa:",t),H.value=[]}},ne=async()=>{await n.fetchPersona(c.params.id)};ee(async()=>{await Promise.all([n.fetchPersona(c.params.id),le(),ie(),de(),Q()])});const le=async()=>{try{const r=await Be.getAllPeople();O.value=r.data.data||r.data||[]}catch(r){console.error("Errore nel caricamento delle persone:",r)}},ie=async()=>{try{const r=await Ve.getAll();R.value=r.data.data||r.data||[]}catch(r){console.error("Errore nel caricamento dei tipi di legame:",r)}},de=async()=>{try{const r=await Le.getAll();G.value=r.data||[]}catch(r){console.error("Errore nel caricamento dei tipi evento legame:",r)}};te(()=>n.persona,r=>{r&&(b.value={nome:r.nome||"",cognome:r.cognome||"",nato_a:r.nato_a||"",nato_il:r.nato_il||"",deceduto_a:r.deceduto_a||"",deceduto_il:r.deceduto_il||""},r.consorti&&Array.isArray(r.consorti)?z.value=r.consorti.map(t=>{var g;return{id:t.id,nome_completo:t.nome_completo,data_legame:t.data_legame||"",luogo_legame:t.luogo_legame||"",tipo_evento_legame_id:((g=t.tipo_evento_legame)==null?void 0:g.id)||"",data_separazione:t.data_separazione||"",luogo_separazione:t.luogo_separazione||""}}):z.value=[],j.value=r.figli?[...r.figli]:[],h.value=r.padre?r.padre.id.toString():"",y.value=r.madre?r.madre.id.toString():"",Q())},{immediate:!0});const W=r=>{window.location.href=`/persone/${r}/edit`},pe=()=>{if(!V.value)return;const r=B.value.find(t=>t.id===parseInt(V.value));r&&!J.value.includes(r.id)&&(z.value.push({id:r.id,nome_completo:r.nome_completo,data_legame:"",luogo_legame:"",tipo_evento_legame_id:"",data_separazione:"",luogo_separazione:""}),V.value="",A.value=!1)},ue=r=>{z.value=z.value.filter(t=>t.id!==r)},ge=()=>{if(!L.value)return;const r=B.value.find(t=>t.id===parseInt(L.value));r&&!K.value.includes(r.id)&&(j.value.push(r),L.value="",T.value=!1)},ce=r=>{j.value=j.value.filter(t=>t.id!==r)},me=()=>{$.value&&(h.value=$.value,$.value="")},be=()=>{I.value&&(y.value=I.value,I.value="")},ve=()=>{U.push({path:"/persone/create",query:{relazione_persona_id:c.params.id,relazione_tipo:"padre",return_to:`/persone/${c.params.id}/edit`}})},xe=()=>{U.push({path:"/persone/create",query:{relazione_persona_id:c.params.id,relazione_tipo:"madre",return_to:`/persone/${c.params.id}/edit`}})},ke=()=>{U.push({path:"/persone/create",query:{relazione_persona_id:c.params.id,relazione_tipo:"coniuge",return_to:`/persone/${c.params.id}/edit`}})},_e=()=>{U.push({path:"/persone/create",query:{relazione_persona_id:c.params.id,relazione_tipo:"figlio",return_to:`/persone/${c.params.id}/edit`}})},X=r=>{if(!r)return"";const t=B.value.find(g=>g.id===parseInt(r));return t?t.nome_completo:""},Y=r=>{const t=R.value.find(g=>g.nome===r);return t?t.id:null},Z=async()=>{S.value=!0;try{const r={};h.value&&(r.padre_id=parseInt(h.value)),y.value&&(r.madre_id=parseInt(y.value));const t=[],g=Y("coniuge");g&&z.value.forEach(u=>{const k={persona_collegata_id:u.id,tipo_legame_id:g,data_legame:u.data_legame&&String(u.data_legame).trim()!==""?u.data_legame:null,luogo_legame:u.luogo_legame&&String(u.luogo_legame).trim()!==""?u.luogo_legame:null,tipo_evento_legame_id:u.tipo_evento_legame_id&&u.tipo_evento_legame_id!==""&&u.tipo_evento_legame_id!==null?parseInt(u.tipo_evento_legame_id):null,data_separazione:u.data_separazione&&String(u.data_separazione).trim()!==""?u.data_separazione:null,luogo_separazione:u.luogo_separazione&&String(u.luogo_separazione).trim()!==""?u.luogo_separazione:null};t.push(k)});const v=Y("padre");v&&j.value.forEach(u=>{t.push({persona_collegata_id:u.id,tipo_legame_id:v})});const a={...b.value};Object.keys(r).length>0&&(a.genitori=r),a.relazioni=t,(await n.updatePersona(c.params.id,a)).success&&U.push(`/persone/${c.params.id}`)}catch(r){console.error("Errore nel salvataggio:",r)}finally{S.value=!1}};return(r,t)=>{var v;const g=we("router-link");return i(),d("div",Ae,[e("div",Te,[e("div",He,[e("div",Ne,[e("div",Fe,[e("div",null,[e("h1",De,s(o("persona.edit_title")),1),e("p",qe,s(o("persona.edit_subtitle")),1)])]),p(n).persona?(i(),d("div",Oe,[w(g,{to:"/persone",class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},{default:C(()=>[t[20]||(t[20]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),e("span",null,s(o("persona.back_to_list")),1)]),_:1}),w(g,{to:`/persone/${r.$route.params.id}`,class:"inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},{default:C(()=>[t[21]||(t[21]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),e("span",null,s(o("common.cancel")),1)]),_:1},8,["to"]),e("button",{type:"button",onClick:Z,disabled:S.value,class:"inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm"},[S.value?(i(),d("svg",Je,[...t[23]||(t[23]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),d("svg",Ge,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),e("span",null,s(S.value?o("persona.saving"):o("persona.save_changes")),1)],8,Re)])):f("",!0)])])]),e("div",Ke,[e("div",Qe,[p(n).loading?(i(),d("div",We,[e("div",Xe,[t[24]||(t[24]=e("div",{class:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-3"},null,-1)),e("p",Ye,s(o("persona.loading_info")),1)])])):p(n).persona?(i(),d("form",{key:1,onSubmit:F(Z,["prevent"]),class:"space-y-3"},[e("div",Ze,[e("div",et,[e("h2",tt,[t[25]||(t[25]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),x(" "+s(o("persona.personal_info")),1)])]),e("div",ot,[e("div",rt,[e("div",null,[e("label",at,[e("span",st,[t[26]||(t[26]=e("svg",{class:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),x(" "+s(o("persona.nome"))+" * ",1)])]),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>b.value.nome=a),type:"text",required:"",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:o("persona.enter_name")},null,8,nt),[[M,b.value.nome]])]),e("div",null,[e("label",lt,[e("span",it,[t[27]||(t[27]=e("svg",{class:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),x(" "+s(o("persona.cognome"))+" * ",1)])]),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>b.value.cognome=a),type:"text",required:"",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:o("persona.enter_surname")},null,8,dt),[[M,b.value.cognome]])])]),e("div",pt,[e("h3",ut,[t[28]||(t[28]=e("svg",{class:"w-3.5 h-3.5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),x(" "+s(o("persona.birth")),1)]),e("div",gt,[e("div",null,[e("label",ct,s(o("persona.birth_place")),1),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>b.value.nato_a=a),type:"text",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:o("persona.birth_place_example")},null,8,mt),[[M,b.value.nato_a]])]),e("div",null,[e("label",bt,s(o("persona.birth_date")),1),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>b.value.nato_il=a),type:"date",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"},null,512),[[M,b.value.nato_il]])])])]),e("div",vt,[e("h3",xt,[t[29]||(t[29]=e("svg",{class:"w-3.5 h-3.5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),x(" "+s(o("persona.death")),1)]),e("div",kt,[e("div",null,[e("label",_t,s(o("persona.death_place")),1),_(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>b.value.deceduto_a=a),type:"text",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors",placeholder:o("persona.death_place_example")},null,8,ht),[[M,b.value.deceduto_a]])]),e("div",null,[e("label",yt,s(o("persona.death_date")),1),_(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>b.value.deceduto_il=a),type:"date",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors"},null,512),[[M,b.value.deceduto_il]])])])])])]),e("div",ft,[e("h3",wt,[t[30]||(t[30]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),x(" "+s(o("persona.family_relations")),1)]),e("div",Ct,[e("div",Mt,[e("div",zt,[e("h4",jt,s(o("persona.genitori")),1)]),e("div",null,[e("label",Bt,s(o("persona.padre")),1),h.value||p(n).persona.padre?(i(),d("div",Vt,[p(n).persona.padre&&!h.value?(i(),d("div",{key:0,onClick:t[7]||(t[7]=a=>W(p(n).persona.padre.id)),class:"group p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700 transition-colors cursor-pointer"},[e("div",Lt,[t[32]||(t[32]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",$t,[e("p",It,s(p(n).persona.padre.nome_completo),1)]),e("button",{type:"button",onClick:t[6]||(t[6]=F(a=>{h.value="",p(n).persona.padre=null},["stop"])),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...t[31]||(t[31]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):h.value?(i(),d("div",Ut,[e("div",Pt,[e("span",St,s(X(h.value)),1),e("button",{type:"button",onClick:t[8]||(t[8]=a=>h.value=""),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...t[33]||(t[33]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):f("",!0)])):f("",!0),e("div",Et,[w(N,{modelValue:$.value,"onUpdate:modelValue":t[9]||(t[9]=a=>$.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:o("persona.search_father")||"Cerca padre per nome o cognome...","empty-option":o("persona.select_existing_father"),disabled:a=>a.id===parseInt(p(c).params.id),"select-class":"px-2.5 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},{option:C(({option:a})=>[x(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:me,disabled:!$.value,class:"p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[...t[34]||(t[34]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,At),e("button",{type:"button",onClick:ve,class:"p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:o("persona.create_new_father")},[...t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])],8,Tt)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"])])]),e("div",null,[e("label",Ht,s(o("persona.madre")),1),y.value||p(n).persona.madre?(i(),d("div",Nt,[p(n).persona.madre&&!y.value?(i(),d("div",{key:0,onClick:t[11]||(t[11]=a=>W(p(n).persona.madre.id)),class:"group p-2 bg-pink-50 dark:bg-pink-900/20 rounded-lg border border-pink-200 dark:border-pink-800 hover:border-pink-300 dark:hover:border-pink-700 transition-colors cursor-pointer"},[e("div",Ft,[t[37]||(t[37]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-pink-100 dark:bg-pink-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-pink-600 dark:text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Dt,[e("p",qt,s(p(n).persona.madre.nome_completo),1)]),e("button",{type:"button",onClick:t[10]||(t[10]=F(a=>{y.value="",p(n).persona.madre=null},["stop"])),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...t[36]||(t[36]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):y.value?(i(),d("div",Ot,[e("div",Rt,[e("span",Gt,s(X(y.value)),1),e("button",{type:"button",onClick:t[12]||(t[12]=a=>y.value=""),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...t[38]||(t[38]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):f("",!0)])):f("",!0),e("div",Jt,[w(N,{modelValue:I.value,"onUpdate:modelValue":t[13]||(t[13]=a=>I.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:o("persona.search_mother")||"Cerca madre per nome o cognome...","empty-option":o("persona.select_existing_mother"),disabled:a=>a.id===parseInt(p(c).params.id),"select-class":"px-2.5 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},{option:C(({option:a})=>[x(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:be,disabled:!I.value,class:"p-1.5 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[...t[39]||(t[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Kt),e("button",{type:"button",onClick:xe,class:"p-1.5 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors",title:o("persona.create_new_mother")},[...t[40]||(t[40]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])],8,Qt)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"])])])]),e("div",Wt,[e("div",null,[e("div",Xt,[e("h4",Yt,s(o("persona.consorti")),1),e("button",{type:"button",onClick:t[14]||(t[14]=a=>A.value=!0),class:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-900/30 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors"},[t[41]||(t[41]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),x(" "+s(o("persona.add")),1)])]),A.value?(i(),d("div",Zt,[e("div",eo,[w(N,{modelValue:V.value,"onUpdate:modelValue":t[16]||(t[16]=a=>V.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:o("persona.search_spouse")||"Cerca consorte per nome o cognome...","empty-option":o("persona.select_existing_spouse"),disabled:a=>a.id===parseInt(p(c).params.id)||J.value.includes(a.id),"select-class":"px-3 py-2 border border-purple-300 dark:border-purple-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"},{option:C(({option:a})=>[x(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:pe,disabled:!V.value,class:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:o("persona.add_spouse")},[...t[42]||(t[42]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,to),e("button",{type:"button",onClick:t[15]||(t[15]=a=>A.value=!1),class:"p-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",title:o("common.cancel")},[...t[43]||(t[43]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,oo)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"]),e("div",ro,s(o("persona.or")),1),e("button",{type:"button",onClick:ke,class:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2"},[t[44]||(t[44]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),x(" "+s(o("persona.create_new_spouse")),1)])])])):f("",!0),z.value.length>0?(i(),d("div",ao,[(i(!0),d(D,null,q(z.value,a=>(i(),d("div",{key:a.id,class:"group p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700 transition-colors space-y-2"},[e("div",so,[t[46]||(t[46]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("div",no,[e("p",lo,s(a.nome_completo),1)]),e("button",{type:"button",onClick:l=>ue(a.id),class:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:o("persona.remove_spouse")},[...t[45]||(t[45]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,io)]),e("div",po,[e("div",null,[e("label",uo,s(o("persona.tipo_evento_legame")),1),_(e("select",{"onUpdate:modelValue":l=>a.tipo_evento_legame_id=l,class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[e("option",co,s(o("persona.select")),1),(i(!0),d(D,null,q(G.value,l=>(i(),d("option",{key:l.id,value:l.id},s(l.descrizione||l.nome),9,mo))),128))],8,go),[[ze,a.tipo_evento_legame_id]])]),e("div",null,[e("label",bo,s(o("persona.data_legame")),1),_(e("input",{"onUpdate:modelValue":l=>a.data_legame=l,type:"date",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,8,vo),[[M,a.data_legame]])]),e("div",null,[e("label",xo,s(o("persona.luogo_legame")),1),_(e("input",{"onUpdate:modelValue":l=>a.luogo_legame=l,type:"text",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:o("persona.birth_place_example")},null,8,ko),[[M,a.luogo_legame]])])]),e("div",_o,[e("div",null,[e("label",ho,s(o("persona.data_separazione")),1),_(e("input",{"onUpdate:modelValue":l=>a.data_separazione=l,type:"date",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,8,yo),[[M,a.data_separazione]])]),e("div",null,[e("label",fo,s(o("persona.luogo_separazione")),1),_(e("input",{"onUpdate:modelValue":l=>a.luogo_separazione=l,type:"text",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:o("persona.birth_place_example")},null,8,wo),[[M,a.luogo_separazione]])])])]))),128))])):(i(),d("p",Co,s(o("persona.no_spouse_added")),1))]),e("div",null,[e("div",Mo,[e("h4",zo,s(o("persona.figli")),1),e("button",{type:"button",onClick:t[17]||(t[17]=a=>T.value=!0),class:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors"},[t[47]||(t[47]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),x(" "+s(o("persona.add")),1)])]),T.value?(i(),d("div",jo,[e("div",Bo,[w(N,{modelValue:L.value,"onUpdate:modelValue":t[19]||(t[19]=a=>L.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:o("persona.search_child")||"Cerca figlio per nome o cognome...","empty-option":o("persona.select_existing_child"),disabled:a=>a.id===parseInt(p(c).params.id)||K.value.includes(a.id),"select-class":"px-3 py-2 border border-green-300 dark:border-green-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"},{option:C(({option:a})=>[x(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:ge,disabled:!L.value,class:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:o("persona.add_child")},[...t[48]||(t[48]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Vo),e("button",{type:"button",onClick:t[18]||(t[18]=a=>T.value=!1),class:"p-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",title:o("common.cancel")},[...t[49]||(t[49]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Lo)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"]),e("div",$o,s(o("persona.or")),1),e("button",{type:"button",onClick:_e,class:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2"},[t[50]||(t[50]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),x(" "+s(o("persona.create_new_child")),1)])])])):f("",!0),j.value.length>0?(i(),d("div",Io,[(i(!0),d(D,null,q(j.value,a=>(i(),d("div",{key:a.id,class:"group p-2 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 hover:border-green-300 dark:hover:border-green-700 transition-colors"},[e("div",Uo,[t[52]||(t[52]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",Po,[e("p",So,s(a.nome_completo),1)]),e("button",{type:"button",onClick:l=>ce(a.id),class:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:o("persona.remove_child")},[...t[51]||(t[51]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Eo)])]))),128))])):(i(),d("p",Ao,s(o("persona.no_child_added")),1))])])]),!p(n).persona.padre&&!p(n).persona.madre&&(!p(n).persona.consorti||p(n).persona.consorti.length===0)&&(!p(n).persona.figli||p(n).persona.figli.length===0)?(i(),d("div",To,[t[53]||(t[53]=e("svg",{class:"w-10 h-10 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),e("p",Ho,s(o("persona.no_family_relations")),1)])):f("",!0)]),w($e,{"persona-id":parseInt(r.$route.params.id)},null,8,["persona-id"]),e("div",No,[e("div",Fo,[w(Ie,{"persona-id":parseInt(r.$route.params.id),persona:p(n).persona,class:"w-full"},null,8,["persona-id","persona"])]),e("div",Do,[re.value?(i(),Ce(Ee,{key:0,luoghi:ae.value,class:"w-full"},null,8,["luoghi"])):f("",!0)])]),e("div",qo,[e("div",Oo,[w(Ue,{"persona-id":parseInt(r.$route.params.id),class:"w-full"},null,8,["persona-id"])]),e("div",Ro,[w(Pe,{"persona-id":parseInt(r.$route.params.id),"persona-tags":((v=p(n).persona)==null?void 0:v.tags)||[],onTagsUpdated:ne,class:"w-full"},null,8,["persona-id","persona-tags"])])])],32)):f("",!0)])])])}}};export{er as default};
