import{h as U,i as V,l as N,r as C,B as j,A as Y,c as l,a as e,t as n,p as v,q as S,m as J,b as p,g as o,s as h,F as $,D as B,C as K,e as Q,o as i}from"./app-CQqk7krA.js";import{u as W}from"./persone-B80aqGc-.js";import{p as T}from"./personaService-BcRaQCsB.js";import{_ as X,a as Z,b as ee,c as te,e as re}from"./TagSection-DW1llP4S.js";import{_ as oe}from"./MapView-C9T9LXOR.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"bg-gray-200 dark:bg-gray-900 h-full flex flex-col overflow-hidden"},ne={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 flex-shrink-0",style:{"z-index":"100"}},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2"},de={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2"},le={class:"flex items-center gap-3"},pe={class:"text-xl font-bold text-gray-900 dark:text-white"},ce={class:"text-xs text-gray-500 dark:text-gray-400"},ge={class:"flex items-center gap-2"},ue={class:"flex-1 overflow-y-auto"},me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-4 pt-3"},xe={key:0,class:"flex items-center justify-center py-12"},he={class:"text-center"},ke={class:"text-gray-600 dark:text-gray-400"},ve={key:1,class:"space-y-3"},_e={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},be={class:"bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-3"},fe={class:"flex items-center justify-between"},ye={class:"flex items-center gap-3"},we={class:"text-xl font-bold text-white"},ze={class:"flex items-center gap-2 mt-1"},Ce={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-500/20 text-white rounded-full text-xs font-medium"},Me={key:1,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-500/20 text-white rounded-full text-xs font-medium"},je={class:"p-4"},$e={class:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Le={key:0,class:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},He={class:"flex-1"},Pe={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},Ve={key:0,class:"text-sm font-semibold text-gray-900 dark:text-white"},Ne={key:1,class:"text-xs text-gray-600 dark:text-gray-300 mt-0.5"},Se={key:1,class:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Te={class:"flex-1"},Ee={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},Ie={key:0,class:"text-sm font-semibold text-gray-900 dark:text-white"},De={key:1,class:"text-xs text-gray-600 dark:text-gray-300 mt-0.5"},Re={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},Fe={class:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},qe={key:0,class:"space-y-2"},Ge={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},Oe={class:"flex items-center gap-2"},Ue={class:"flex-1 min-w-0"},Ye={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},Je={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors truncate"},Ke={class:"flex items-center gap-2"},Qe={class:"flex-1 min-w-0"},We={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},Xe={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors truncate"},Ze={class:"space-y-2"},et={key:0},tt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2"},rt={class:"space-y-1.5"},ot=["onClick"],st={class:"flex items-center gap-2"},at={class:"flex-1 min-w-0"},nt={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors truncate"},it={key:0,class:"mt-1 space-y-0.5"},dt={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},lt={key:1,class:"text-xs text-gray-500 dark:text-gray-500"},pt={key:0},ct={key:1},gt={key:2},ut={key:2,class:"text-xs text-red-600 dark:text-red-400 italic"},mt={key:0},xt={key:1},ht={key:2},kt={key:1},vt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2"},_t={class:"space-y-1.5"},bt=["onClick"],ft={class:"flex items-center gap-2"},yt={class:"flex-1 min-w-0"},wt={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors truncate"},zt={key:0,class:"text-center py-6"},Ct={class:"text-sm text-gray-500 dark:text-gray-400"},Mt={class:"grid grid-cols-1 lg:grid-cols-6 gap-4 items-stretch",style:{"min-height":"680px"}},jt={class:"lg:col-span-2 flex w-full"},$t={class:"lg:col-span-4 flex w-full"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Lt={class:"flex"},Ht={class:"flex"},Pt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},Vt={class:"flex items-center justify-between mb-4"},Nt={class:"text-base font-semibold text-gray-900 dark:text-white flex items-center gap-2"},St=["title"],Tt={class:"flex flex-col items-center space-y-4 py-4"},Et={key:0,class:"flex flex-col items-center space-y-2 w-full"},It={class:"flex justify-center gap-4 w-full"},Dt={class:"flex flex-col items-center space-y-2"},Rt={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Ft={class:"text-sm font-semibold text-gray-900 dark:text-white"},At={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},qt={class:"text-sm font-semibold text-gray-900 dark:text-white"},Gt={class:"flex flex-col items-center space-y-2"},Ot={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Ut={class:"text-sm font-semibold text-gray-900 dark:text-white"},Yt={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Jt={class:"text-sm font-semibold text-gray-900 dark:text-white"},Kt={key:0,class:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"},Qt={key:1,class:"flex flex-col items-center space-y-2"},Wt={class:"flex justify-center gap-4"},Xt={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Zt={class:"text-sm font-semibold text-gray-900 dark:text-white"},er={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},tr={class:"text-sm font-semibold text-gray-900 dark:text-white"},rr={key:2,class:"flex flex-col items-center space-y-2"},or={class:"flex justify-center gap-2 flex-wrap"},sr=["onClick"],ar={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},nr={class:"text-sm font-semibold text-gray-900 dark:text-white"},ir={class:"persona-card bg-gradient-to-r from-blue-500 to-blue-600 border-blue-600 text-white shadow-lg"},dr={class:"text-xs text-blue-100 mb-1"},lr={class:"text-base font-bold"},pr={key:3,class:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"},cr={key:4,class:"flex flex-col items-center space-y-2"},gr={class:"flex justify-center gap-2 flex-wrap max-w-2xl"},ur=["onClick"],mr={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},xr={class:"text-sm font-semibold text-gray-900 dark:text-white"},hr={__name:"Show",setup(kr){const k=Y(),E=Q(),r=W(),_=U(),s=d=>_.t(d);V(()=>{Object.keys(_.translations).length===0&&_.loadTranslations()}),N(()=>_.locale,()=>{_.loadTranslations()});const b=C(null),f=C(null),y=C(null),w=C(null),z=C([]),I=j(()=>b.value||f.value||y.value||w.value),D=j(()=>{var d,t;return((d=r.persona)==null?void 0:d.padre)||((t=r.persona)==null?void 0:t.madre)}),R=j(()=>{var g,a;const d=((g=r.persona)==null?void 0:g.nato_a)&&r.persona.nato_a!=="0"&&r.persona.nato_a!=="",t=((a=r.persona)==null?void 0:a.deceduto_a)&&r.persona.deceduto_a!=="0"&&r.persona.deceduto_a!=="",m=z.value.some(u=>u.luogo&&u.luogo!=="0"&&u.luogo!=="");return d||t||m}),F=j(()=>{var m,g,a,u,P;const d=[],t=((m=r.persona)==null?void 0:m.nome_completo)||`${(g=r.persona)==null?void 0:g.nome} ${(a=r.persona)==null?void 0:a.cognome}`;return(u=r.persona)!=null&&u.nato_a&&r.persona.nato_a!=="0"&&r.persona.nato_a!==""&&d.push({nome:t+" - "+s("persona.birth_place"),luogo:r.persona.nato_a,tipo:"nascita",data:r.persona.nato_il}),(P=r.persona)!=null&&P.deceduto_a&&r.persona.deceduto_a!=="0"&&r.persona.deceduto_a!==""&&d.push({nome:t+" - "+s("persona.death_place"),luogo:r.persona.deceduto_a,tipo:"morte",data:r.persona.deceduto_il}),z.value.forEach(x=>{if(x.luogo&&x.luogo!=="0"&&x.luogo!==""){const O=A(x.tipo_evento);d.push({nome:t+" - "+O+": "+x.titolo,luogo:x.luogo,tipo:x.tipo_evento,data:x.data_evento,descrizione:x.descrizione})}}),d}),A=d=>({nascita:s("eventi.birth"),battesimo:s("eventi.baptism"),comunione:s("eventi.communion"),cresima:s("eventi.confirmation"),primo_giorno_asilo:s("eventi.first_day_kindergarten"),primo_giorno_scuola:s("eventi.first_day_school"),licenza_elementare:s("eventi.elementary_license"),licenza_media:s("eventi.middle_school_license"),diploma_superiore:s("eventi.high_school_diploma"),laurea:s("eventi.graduation"),matrimonio:s("eventi.marriage"),divorzio:s("eventi.divorce"),lavoro:s("eventi.work"),cambio_lavoro:s("eventi.job_change"),militare:s("eventi.military"),guerra:s("eventi.war"),trasloco:s("eventi.move"),emigrazione:s("eventi.emigration"),immigrazione:s("eventi.immigration"),malattia:s("eventi.illness"),guarigione:s("eventi.recovery"),pensione:s("eventi.retirement"),morte:s("eventi.death"),sepoltura:s("eventi.burial"),altro:s("eventi.other")})[d]||d,L=async()=>{var d;if(k.params.id)try{const t=await re.getByPersona(parseInt(k.params.id));z.value=((d=t.data)==null?void 0:d.data)||t.data||[],console.log(`Caricati ${z.value.length} eventi per la mappa`)}catch(t){console.error("Errore nel caricamento degli eventi per la mappa:",t),z.value=[]}},H=async()=>{if(r.persona){if(r.persona.padre)try{const d=await T.getById(r.persona.padre.id),t=d.data.data||d.data;t.padre&&(b.value=t.padre),t.madre&&(f.value=t.madre)}catch(d){console.error("Errore nel caricamento dei nonni paterni:",d)}if(r.persona.madre)try{const d=await T.getById(r.persona.madre.id),t=d.data.data||d.data;t.padre&&(y.value=t.padre),t.madre&&(w.value=t.madre)}catch(d){console.error("Errore nel caricamento dei nonni materni:",d)}}},M=d=>{if(!d)return"-";if(d.includes("/"))return d;try{const t=new Date(d);if(isNaN(t.getTime()))return d;const m=String(t.getDate()).padStart(2,"0"),g=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${m}/${g}/${a}`}catch{return d}},q=async()=>{await r.fetchPersona(k.params.id)};V(async()=>{await r.fetchPersona(k.params.id),await H(),await L()}),N(()=>k.params.id,async d=>{d&&(await r.fetchPersona(d),await H(),await L())});const c=d=>{window.location.href=`/persone/${d}`},G=async()=>{confirm(s("persona.delete_confirm"))&&(await r.deletePersona(k.params.id)).success&&E.push("/persone")};return(d,t)=>{var g;const m=J("router-link");return i(),l("div",ae,[e("div",ne,[e("div",ie,[e("div",de,[e("div",le,[e("div",null,[e("h1",pe,n(s("persona.detail_title")),1),e("p",ce,n(s("persona.detail_subtitle")),1)])]),e("div",ge,[v(m,{to:"/persone",class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},{default:S(()=>[t[9]||(t[9]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),e("span",null,n(s("persona.back_to_list")),1)]),_:1}),v(m,{to:`/persone/${d.$route.params.id}/edit`,class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm"},{default:S(()=>[t[10]||(t[10]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),e("span",null,n(s("common.edit")),1)]),_:1},8,["to"]),e("button",{onClick:G,class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-sm"},[t[11]||(t[11]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),e("span",null,n(s("common.delete")),1)])])])])]),e("div",ue,[e("div",me,[o(r).loading?(i(),l("div",xe,[e("div",he,[t[12]||(t[12]=e("div",{class:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-3"},null,-1)),e("p",ke,n(s("persona.loading_info")),1)])])):o(r).persona?(i(),l("div",ve,[e("div",_e,[e("div",be,[e("div",fe,[e("div",ye,[t[15]||(t[15]=e("div",{class:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",null,[e("h2",we,n(o(r).persona.nome_completo||`${o(r).persona.nome} ${o(r).persona.cognome}`),1),e("div",ze,[o(r).persona.deceduto_il?(i(),l("span",Ce,[t[13]||(t[13]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" "+n(s("persona.deceased")),1)])):(i(),l("span",Me,[t[14]||(t[14]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" "+n(s("persona.living")),1)]))])])])])]),e("div",je,[e("h3",$e,[t[16]||(t[16]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" "+n(s("persona.personal_info")),1)]),e("div",Be,[o(r).persona.nato_il||o(r).persona.nato_a?(i(),l("div",Le,[t[18]||(t[18]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",He,[e("p",Pe,n(s("persona.birth")),1),o(r).persona.nato_il?(i(),l("p",Ve,n(M(o(r).persona.nato_il)),1)):p("",!0),o(r).persona.nato_a?(i(),l("p",Ne,[t[17]||(t[17]=e("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),h(" "+n(o(r).persona.nato_a),1)])):p("",!0)])])):p("",!0),o(r).persona.deceduto_il||o(r).persona.deceduto_a?(i(),l("div",Se,[t[20]||(t[20]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Te,[e("p",Ee,n(s("persona.death")),1),o(r).persona.deceduto_il?(i(),l("p",Ie,n(M(o(r).persona.deceduto_il)),1)):p("",!0),o(r).persona.deceduto_a?(i(),l("p",De,[t[19]||(t[19]=e("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),h(" "+n(o(r).persona.deceduto_a),1)])):p("",!0)])])):p("",!0)])])]),e("div",Re,[e("h3",Fe,[t[21]||(t[21]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),h(" "+n(s("persona.family_relations")),1)]),e("div",Ae,[o(r).persona.padre||o(r).persona.madre?(i(),l("div",qe,[e("h4",Ge,n(s("persona.genitori")),1),o(r).persona.padre?(i(),l("div",{key:0,onClick:t[0]||(t[0]=a=>c(o(r).persona.padre.id)),class:"group p-2.5 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700 transition-colors cursor-pointer"},[e("div",Oe,[t[22]||(t[22]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Ue,[e("p",Ye,n(s("persona.padre")),1),e("p",Je,n(o(r).persona.padre.nome_completo),1)]),t[23]||(t[23]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):p("",!0),o(r).persona.madre?(i(),l("div",{key:1,onClick:t[1]||(t[1]=a=>c(o(r).persona.madre.id)),class:"group p-2.5 bg-pink-50 dark:bg-pink-900/20 rounded-lg border border-pink-200 dark:border-pink-800 hover:border-pink-300 dark:hover:border-pink-700 transition-colors cursor-pointer"},[e("div",Ke,[t[24]||(t[24]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-pink-100 dark:bg-pink-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-pink-600 dark:text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Qe,[e("p",We,n(s("persona.madre")),1),e("p",Xe,n(o(r).persona.madre.nome_completo),1)]),t[25]||(t[25]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):p("",!0)])):p("",!0),e("div",Ze,[o(r).persona.consorti&&o(r).persona.consorti.length>0?(i(),l("div",et,[e("h4",tt,n(s("persona.consorti")),1),e("div",rt,[(i(!0),l($,null,B(o(r).persona.consorti,a=>(i(),l("div",{key:a.id,onClick:u=>c(a.id),class:"group p-2.5 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700 transition-colors cursor-pointer"},[e("div",st,[t[26]||(t[26]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("div",at,[e("p",nt,n(a.nome_completo),1),a.tipo_evento_legame||a.data_legame||a.luogo_legame||a.data_separazione||a.luogo_separazione?(i(),l("div",it,[a.tipo_evento_legame?(i(),l("p",dt,n(a.tipo_evento_legame.descrizione||a.tipo_evento_legame.nome),1)):p("",!0),a.data_legame||a.luogo_legame?(i(),l("p",lt,[a.data_legame?(i(),l("span",pt,n(M(a.data_legame)),1)):p("",!0),a.data_legame&&a.luogo_legame?(i(),l("span",ct," - ")):p("",!0),a.luogo_legame?(i(),l("span",gt,n(a.luogo_legame),1)):p("",!0)])):p("",!0),a.data_separazione||a.luogo_separazione?(i(),l("p",ut,[h(n(s("persona.data_separazione"))+": ",1),a.data_separazione?(i(),l("span",mt,n(M(a.data_separazione)),1)):p("",!0),a.data_separazione&&a.luogo_separazione?(i(),l("span",xt," - ")):p("",!0),a.luogo_separazione?(i(),l("span",ht,n(a.luogo_separazione),1)):p("",!0)])):p("",!0)])):p("",!0)]),t[27]||(t[27]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],8,ot))),128))])])):p("",!0),o(r).persona.figli&&o(r).persona.figli.length>0?(i(),l("div",kt,[e("h4",vt,n(s("persona.figli"))+" ("+n(o(r).persona.figli.length)+")",1),e("div",_t,[(i(!0),l($,null,B(o(r).persona.figli,a=>(i(),l("div",{key:a.id,onClick:u=>c(a.id),class:"group p-2.5 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 hover:border-green-300 dark:hover:border-green-700 transition-colors cursor-pointer"},[e("div",ft,[t[28]||(t[28]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",yt,[e("p",wt,n(a.nome_completo),1)]),t[29]||(t[29]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],8,bt))),128))])])):p("",!0)])]),!o(r).persona.padre&&!o(r).persona.madre&&(!o(r).persona.consorti||o(r).persona.consorti.length===0)&&(!o(r).persona.figli||o(r).persona.figli.length===0)?(i(),l("div",zt,[t[30]||(t[30]=e("svg",{class:"w-10 h-10 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),e("p",Ct,n(s("persona.no_family_relations")),1)])):p("",!0)]),v(X,{"persona-id":parseInt(d.$route.params.id)},null,8,["persona-id"]),e("div",Mt,[e("div",jt,[v(Z,{"persona-id":parseInt(d.$route.params.id),persona:o(r).persona,class:"w-full"},null,8,["persona-id","persona"])]),e("div",$t,[R.value?(i(),K(oe,{key:0,luoghi:F.value,class:"w-full"},null,8,["luoghi"])):p("",!0)])]),e("div",Bt,[e("div",Lt,[v(ee,{"persona-id":parseInt(d.$route.params.id),class:"w-full"},null,8,["persona-id"])]),e("div",Ht,[v(te,{"persona-id":parseInt(d.$route.params.id),"persona-tags":((g=o(r).persona)==null?void 0:g.tags)||[],onTagsUpdated:q,class:"w-full"},null,8,["persona-id","persona-tags"])])]),e("div",Pt,[e("div",Vt,[e("h3",Nt,[t[31]||(t[31]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),h(" "+n(s("persona.family_tree")),1)]),e("button",{onClick:t[2]||(t[2]=a=>d.window.print()),class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:s("persona.print_family_tree")||"Stampa albero genealogico"},[t[32]||(t[32]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1)),h(" "+n(s("persona.print")||"Stampa"),1)],8,St)]),e("div",Tt,[I.value?(i(),l("div",Et,[e("div",It,[e("div",Dt,[b.value?(i(),l("div",{key:0,onClick:t[3]||(t[3]=a=>c(b.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",Rt,n(s("persona.grandfather_paternal")),1),e("div",Ft,n(b.value.nome_completo),1)])):p("",!0),f.value?(i(),l("div",{key:1,onClick:t[4]||(t[4]=a=>c(f.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",At,n(s("persona.grandmother_paternal")),1),e("div",qt,n(f.value.nome_completo),1)])):p("",!0)]),e("div",Gt,[y.value?(i(),l("div",{key:0,onClick:t[5]||(t[5]=a=>c(y.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",Ot,n(s("persona.grandfather_maternal")),1),e("div",Ut,n(y.value.nome_completo),1)])):p("",!0),w.value?(i(),l("div",{key:1,onClick:t[6]||(t[6]=a=>c(w.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",Yt,n(s("persona.grandmother_maternal")),1),e("div",Jt,n(w.value.nome_completo),1)])):p("",!0)])]),D.value?(i(),l("div",Kt)):p("",!0)])):p("",!0),o(r).persona.padre||o(r).persona.madre?(i(),l("div",Qt,[e("div",Wt,[o(r).persona.padre?(i(),l("div",{key:0,onClick:t[7]||(t[7]=a=>c(o(r).persona.padre.id)),class:"persona-card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700"},[e("div",Xt,n(s("persona.padre")),1),e("div",Zt,n(o(r).persona.padre.nome_completo),1)])):p("",!0),o(r).persona.madre?(i(),l("div",{key:1,onClick:t[8]||(t[8]=a=>c(o(r).persona.madre.id)),class:"persona-card bg-pink-50 dark:bg-pink-900/20 border-pink-200 dark:border-pink-800 hover:border-pink-300 dark:hover:border-pink-700"},[e("div",er,n(s("persona.madre")),1),e("div",tr,n(o(r).persona.madre.nome_completo),1)])):p("",!0)]),t[33]||(t[33]=e("div",{class:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"},null,-1))])):p("",!0),o(r).persona.consorti&&o(r).persona.consorti.length>0?(i(),l("div",rr,[e("div",or,[(i(!0),l($,null,B(o(r).persona.consorti,a=>(i(),l("div",{key:a.id,onClick:u=>c(a.id),class:"persona-card bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700"},[e("div",ar,n(s("persona.consorte")),1),e("div",nr,n(a.nome_completo),1)],8,sr))),128))]),t[34]||(t[34]=e("div",{class:"w-0.5 h-4 bg-gray-300 dark:bg-gray-600"},null,-1))])):p("",!0),e("div",ir,[e("div",dr,n(s("persona.persona")),1),e("div",lr,n(o(r).persona.nome_completo||`${o(r).persona.nome} ${o(r).persona.cognome}`),1)]),o(r).persona.figli&&o(r).persona.figli.length>0?(i(),l("div",pr)):p("",!0),o(r).persona.figli&&o(r).persona.figli.length>0?(i(),l("div",cr,[e("div",gr,[(i(!0),l($,null,B(o(r).persona.figli,a=>(i(),l("div",{key:a.id,onClick:u=>c(a.id),class:"persona-card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 hover:border-green-300 dark:hover:border-green-700"},[e("div",mr,n(s("persona.child")),1),e("div",xr,n(a.nome_completo),1)],8,ur))),128))])])):p("",!0)])])])):p("",!0)])])])}}},zr=se(hr,[["__scopeId","data-v-c00a471b"]]);export{zr as default};
