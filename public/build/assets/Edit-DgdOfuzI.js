import{h as Ce,i as re,l as ae,r as b,B as A,A as Me,c as u,a as e,b as f,t as s,g,p as w,q as C,m as ze,w as q,s as _,d as k,v as M,F as O,D as R,C as je,e as Be,o as d,j as Ve}from"./app-Db2intbC.js";import{u as $e}from"./persone-37GW1075.js";import{p as Le}from"./personaService-p9cadlBs.js";import{t as Ie}from"./tipoLegameService-CAo23vmP.js";import{t as Ue,_ as D}from"./SearchableSelect-_A4h7WCA.js";import{_ as Pe,a as Ee,b as Se,c as Ae,e as Te}from"./TagSection-BkGLsz6w.js";import{_ as He}from"./MapView-C2-4WZJm.js";const Ne={class:"bg-gray-200 dark:bg-gray-900 h-full flex flex-col overflow-hidden"},Fe={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 flex-shrink-0",style:{"z-index":"100"}},De={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2"},qe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2"},Oe={class:"flex items-center gap-3"},Re={class:"text-xl font-bold text-gray-900 dark:text-white"},Ge={class:"text-xs text-gray-500 dark:text-gray-400"},Je={key:0,class:"flex items-center gap-2"},Ke=["disabled"],Qe={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},We={key:1,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},Xe={class:"flex-1 overflow-y-auto"},Ye={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-4 pt-3"},Ze={key:0,class:"flex items-center justify-center py-12"},eo={class:"text-center"},oo={class:"text-gray-600 dark:text-gray-400"},to={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ro={class:"bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-2"},ao={class:"text-base font-bold text-white flex items-center gap-2"},so={class:"p-4 space-y-4"},no={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},lo={class:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5"},io={class:"flex items-center gap-1.5"},po=["placeholder"],uo={class:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5"},go={class:"flex items-center gap-1.5"},co=["placeholder"],mo={class:"border-t border-gray-200 dark:border-gray-700 pt-3"},bo={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2 flex items-center gap-1.5"},vo={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},_o={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},xo=["placeholder"],ko={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},ho={class:"border-t border-gray-200 dark:border-gray-700 pt-3"},yo={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2 flex items-center gap-1.5"},fo={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},wo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},Co=["placeholder"],Mo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},zo={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},jo={class:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},Bo={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Vo={class:"space-y-2"},$o={class:"flex items-center justify-between"},Lo={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},Io={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},Uo={key:0,class:"mb-1.5"},Po={class:"flex items-center gap-2"},Eo={class:"flex-1 min-w-0"},So={class:"text-xs font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors truncate"},Ao={key:1,class:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"},To={class:"flex items-center gap-2"},Ho={class:"flex-1 text-xs text-gray-900 dark:text-white"},No={class:"space-y-1.5"},Fo=["disabled"],Do=["title"],qo={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5"},Oo={key:0,class:"mb-1.5"},Ro={class:"flex items-center gap-2"},Go={class:"flex-1 min-w-0"},Jo={class:"text-xs font-semibold text-gray-900 dark:text-white group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors truncate"},Ko={key:1,class:"p-2 bg-pink-50 dark:bg-pink-900/20 rounded-lg border border-pink-200 dark:border-pink-800"},Qo={class:"flex items-center gap-2"},Wo={class:"flex-1 text-xs text-gray-900 dark:text-white"},Xo={class:"space-y-1.5"},Yo=["disabled"],Zo=["title"],et={class:"space-y-2"},ot={class:"flex items-center justify-between mb-2"},tt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},rt={key:0,class:"mb-2 p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800"},at={class:"flex flex-col gap-2"},st=["disabled","title"],nt=["title"],lt={class:"text-center text-sm text-gray-600 dark:text-gray-400"},it={key:1,class:"space-y-1.5"},dt={class:"flex items-center gap-2"},pt={class:"flex-1 min-w-0"},ut={class:"text-sm font-semibold text-gray-900 dark:text-white truncate"},gt=["onClick","title"],ct={class:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-2"},mt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},bt=["onUpdate:modelValue"],vt={value:""},_t=["value"],xt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},kt=["onUpdate:modelValue"],ht={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},yt=["onUpdate:modelValue","placeholder"],ft={class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 pt-2 border-t border-purple-200 dark:border-purple-800"},wt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},Ct=["onUpdate:modelValue"],Mt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},zt=["onUpdate:modelValue","placeholder"],jt={key:2,class:"text-xs text-gray-500 dark:text-gray-400 italic"},Bt={class:"flex items-center justify-between mb-2"},Vt={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},$t={key:0,class:"mb-2 p-2 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800"},Lt={class:"flex flex-col gap-2"},It=["disabled","title"],Ut=["title"],Pt={class:"text-center text-sm text-gray-600 dark:text-gray-400"},Et={key:1,class:"space-y-1.5"},St={class:"flex items-center gap-2"},At={class:"flex-1 min-w-0"},Tt={class:"text-sm font-semibold text-gray-900 dark:text-white truncate"},Ht=["onClick","title"],Nt={key:2,class:"text-xs text-gray-500 dark:text-gray-400 italic"},Ft={key:0,class:"text-center py-6"},Dt={class:"text-sm text-gray-500 dark:text-gray-400"},qt={class:"grid grid-cols-1 lg:grid-cols-6 gap-4 items-stretch",style:{"min-height":"680px"}},Ot={class:"lg:col-span-2 flex w-full"},Rt={class:"lg:col-span-4 flex w-full"},Gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Jt={class:"flex"},Kt={class:"flex"},rr={__name:"Edit",setup(Qt){const m=Me(),P=Be(),n=$e(),E=Ce(),t=r=>E.t(r);re(()=>{Object.keys(E.translations).length===0&&E.loadTranslations()}),ae(()=>E.locale,()=>{E.loadTranslations()});const v=b({nome:"",cognome:"",nato_a:"",nato_il:"",deceduto_a:"",deceduto_il:""}),S=b(!1),G=b([]),J=b([]),K=b([]),T=b(!1),H=b(!1),$=b(""),L=b(""),I=b(""),U=b(""),z=b([]),j=b([]),h=b(""),y=b(""),N=b([]),Q=A(()=>z.value.map(r=>r.id)),W=A(()=>j.value.map(r=>r.id)),se=r=>[...r].sort((o,c)=>{const x=(o.cognome||"").toLowerCase(),a=(c.cognome||"").toLowerCase();if(x!==a)return x.localeCompare(a,"it");const p=(o.nome||"").toLowerCase(),i=(c.nome||"").toLowerCase();return p.localeCompare(i,"it")}),B=A(()=>se(G.value)),ne=A(()=>{var a,p,i,V;const r=((a=n.persona)==null?void 0:a.nato_a)&&n.persona.nato_a!=="0"&&n.persona.nato_a!=="",o=((p=n.persona)==null?void 0:p.deceduto_a)&&n.persona.deceduto_a!=="0"&&n.persona.deceduto_a!=="",c=(V=(i=n.persona)==null?void 0:i.consorti)==null?void 0:V.some(l=>l.luogo_legame&&l.luogo_legame!=="0"&&l.luogo_legame!==""),x=N.value.some(l=>l.luogo&&l.luogo!=="0"&&l.luogo!=="");return r||o||c||x}),le=A(()=>{var c,x,a,p,i,V;const r=[],o=((c=n.persona)==null?void 0:c.nome_completo)||`${(x=n.persona)==null?void 0:x.nome} ${(a=n.persona)==null?void 0:a.cognome}`;return(p=n.persona)!=null&&p.nato_a&&n.persona.nato_a!=="0"&&n.persona.nato_a!==""&&r.push({nome:o+" - "+t("persona.birth_place"),luogo:n.persona.nato_a,tipo:"nascita",data:n.persona.nato_il}),(i=n.persona)!=null&&i.deceduto_a&&n.persona.deceduto_a!=="0"&&n.persona.deceduto_a!==""&&r.push({nome:o+" - "+t("persona.death_place"),luogo:n.persona.deceduto_a,tipo:"morte",data:n.persona.deceduto_il}),(V=n.persona)!=null&&V.consorti&&n.persona.consorti.length>0&&n.persona.consorti.forEach(l=>{var F,te;if(l.luogo_legame&&l.luogo_legame!=="0"&&l.luogo_legame!==""){const we=l.nome_completo||`${l.nome} ${l.cognome}`;r.push({nome:o+" - "+t("eventi.marriage")+" con "+we,luogo:l.luogo_legame,tipo:"matrimonio",data:l.data_legame,descrizione:((F=l.tipo_evento_legame)==null?void 0:F.descrizione)||((te=l.tipo_evento_legame)==null?void 0:te.nome)||""})}}),N.value.forEach(l=>{if(l.luogo&&l.luogo!=="0"&&l.luogo!==""){const F=ie(l.tipo_evento);r.push({nome:o+" - "+F+": "+l.titolo,luogo:l.luogo,tipo:l.tipo_evento,data:l.data_evento,descrizione:l.descrizione})}}),r}),ie=r=>({nascita:t("eventi.birth"),battesimo:t("eventi.baptism"),comunione:t("eventi.communion"),cresima:t("eventi.confirmation"),primo_giorno_asilo:t("eventi.first_day_kindergarten"),primo_giorno_scuola:t("eventi.first_day_school"),licenza_elementare:t("eventi.elementary_license"),licenza_media:t("eventi.middle_school_license"),diploma_superiore:t("eventi.high_school_diploma"),laurea:t("eventi.graduation"),matrimonio:t("eventi.marriage"),divorzio:t("eventi.divorce"),lavoro:t("eventi.work"),cambio_lavoro:t("eventi.job_change"),militare:t("eventi.military"),guerra:t("eventi.war"),trasloco:t("eventi.move"),emigrazione:t("eventi.emigration"),immigrazione:t("eventi.immigration"),malattia:t("eventi.illness"),guarigione:t("eventi.recovery"),pensione:t("eventi.retirement"),morte:t("eventi.death"),sepoltura:t("eventi.burial"),altro:t("eventi.other")})[r]||r,X=async()=>{var r;if(m.params.id)try{const o=await Te.getByPersona(parseInt(m.params.id));N.value=((r=o.data)==null?void 0:r.data)||o.data||[]}catch(o){console.error("Errore nel caricamento degli eventi per la mappa:",o),N.value=[]}},de=async()=>{await n.fetchPersona(m.params.id)};re(async()=>{await Promise.all([n.fetchPersona(m.params.id),pe(),ue(),ge(),X()])});const pe=async()=>{try{const r=await Le.getAllPeople();G.value=r.data.data||r.data||[]}catch(r){console.error("Errore nel caricamento delle persone:",r)}},ue=async()=>{try{const r=await Ie.getAll();J.value=r.data.data||r.data||[]}catch(r){console.error("Errore nel caricamento dei tipi di legame:",r)}},ge=async()=>{try{const r=await Ue.getAll();K.value=r.data||[]}catch(r){console.error("Errore nel caricamento dei tipi evento legame:",r)}};ae(()=>n.persona,r=>{r&&(v.value={nome:r.nome||"",cognome:r.cognome||"",nato_a:r.nato_a||"",nato_il:r.nato_il||"",deceduto_a:r.deceduto_a||"",deceduto_il:r.deceduto_il||""},r.consorti&&Array.isArray(r.consorti)?z.value=r.consorti.map(o=>{var c;return{id:o.id,nome_completo:o.nome_completo,data_legame:o.data_legame||"",luogo_legame:o.luogo_legame||"",tipo_evento_legame_id:((c=o.tipo_evento_legame)==null?void 0:c.id)||"",data_separazione:o.data_separazione||"",luogo_separazione:o.luogo_separazione||""}}):z.value=[],j.value=r.figli?[...r.figli]:[],h.value=r.padre?r.padre.id.toString():"",y.value=r.madre?r.madre.id.toString():"",X())},{immediate:!0});const Y=r=>{window.location.href=`/persone/${r}/edit`},ce=()=>{if(!$.value)return;const r=B.value.find(o=>o.id===parseInt($.value));r&&!Q.value.includes(r.id)&&(z.value.push({id:r.id,nome_completo:r.nome_completo,data_legame:"",luogo_legame:"",tipo_evento_legame_id:"",data_separazione:"",luogo_separazione:""}),$.value="",T.value=!1)},me=r=>{z.value=z.value.filter(o=>o.id!==r)},be=()=>{if(!L.value)return;const r=B.value.find(o=>o.id===parseInt(L.value));r&&!W.value.includes(r.id)&&(j.value.push(r),L.value="",H.value=!1)},ve=r=>{j.value=j.value.filter(o=>o.id!==r)},_e=()=>{I.value&&(h.value=I.value,I.value="")},xe=()=>{U.value&&(y.value=U.value,U.value="")},ke=()=>{P.push({path:"/persone/create",query:{relazione_persona_id:m.params.id,relazione_tipo:"padre",return_to:`/persone/${m.params.id}/edit`}})},he=()=>{P.push({path:"/persone/create",query:{relazione_persona_id:m.params.id,relazione_tipo:"madre",return_to:`/persone/${m.params.id}/edit`}})},ye=()=>{P.push({path:"/persone/create",query:{relazione_persona_id:m.params.id,relazione_tipo:"coniuge",return_to:`/persone/${m.params.id}/edit`}})},fe=()=>{P.push({path:"/persone/create",query:{relazione_persona_id:m.params.id,relazione_tipo:"figlio",return_to:`/persone/${m.params.id}/edit`}})},Z=r=>{if(!r)return"";const o=B.value.find(c=>c.id===parseInt(r));return o?o.nome_completo:""},ee=r=>{const o=J.value.find(c=>c.nome===r);return o?o.id:null},oe=async()=>{S.value=!0;try{const r={};h.value&&(r.padre_id=parseInt(h.value)),y.value&&(r.madre_id=parseInt(y.value));const o=[],c=ee("coniuge");c&&z.value.forEach(i=>{const V={persona_collegata_id:i.id,tipo_legame_id:c,data_legame:i.data_legame&&String(i.data_legame).trim()!==""?i.data_legame:null,luogo_legame:i.luogo_legame&&String(i.luogo_legame).trim()!==""?i.luogo_legame:null,tipo_evento_legame_id:i.tipo_evento_legame_id&&i.tipo_evento_legame_id!==""&&i.tipo_evento_legame_id!==null?parseInt(i.tipo_evento_legame_id):null,data_separazione:i.data_separazione&&String(i.data_separazione).trim()!==""?i.data_separazione:null,luogo_separazione:i.luogo_separazione&&String(i.luogo_separazione).trim()!==""?i.luogo_separazione:null};o.push(V)});const x=ee("padre");x&&j.value.forEach(i=>{o.push({persona_collegata_id:i.id,tipo_legame_id:x})});const a={...v.value};Object.keys(r).length>0&&(a.genitori=r),a.relazioni=o,(await n.updatePersona(m.params.id,a)).success&&P.push(`/persone/${m.params.id}`)}catch(r){console.error("Errore nel salvataggio:",r)}finally{S.value=!1}};return(r,o)=>{var x;const c=ze("router-link");return d(),u("div",Ne,[e("div",Fe,[e("div",De,[e("div",qe,[e("div",Oe,[e("div",null,[e("h1",Re,s(t("persona.edit_title")),1),e("p",Ge,s(t("persona.edit_subtitle")),1)])]),g(n).persona?(d(),u("div",Je,[w(c,{to:"/persone",class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},{default:C(()=>[o[20]||(o[20]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),e("span",null,s(t("persona.back_to_list")),1)]),_:1}),w(c,{to:`/persone/${r.$route.params.id}`,class:"inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},{default:C(()=>[o[21]||(o[21]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),e("span",null,s(t("common.cancel")),1)]),_:1},8,["to"]),e("button",{type:"button",onClick:oe,disabled:S.value,class:"inline-flex items-center justify-center gap-1.5 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm"},[S.value?(d(),u("svg",We,[...o[23]||(o[23]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(d(),u("svg",Qe,[...o[22]||(o[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),e("span",null,s(S.value?t("persona.saving"):t("persona.save_changes")),1)],8,Ke)])):f("",!0)])])]),e("div",Xe,[e("div",Ye,[g(n).loading?(d(),u("div",Ze,[e("div",eo,[o[24]||(o[24]=e("div",{class:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-3"},null,-1)),e("p",oo,s(t("persona.loading_info")),1)])])):g(n).persona?(d(),u("form",{key:1,onSubmit:q(oe,["prevent"]),class:"space-y-3"},[e("div",to,[e("div",ro,[e("h2",ao,[o[25]||(o[25]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),_(" "+s(t("persona.personal_info")),1)])]),e("div",so,[e("div",no,[e("div",null,[e("label",lo,[e("span",io,[o[26]||(o[26]=e("svg",{class:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),_(" "+s(t("persona.nome"))+" * ",1)])]),k(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>v.value.nome=a),type:"text",required:"",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:t("persona.enter_name")},null,8,po),[[M,v.value.nome]])]),e("div",null,[e("label",uo,[e("span",go,[o[27]||(o[27]=e("svg",{class:"w-3.5 h-3.5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),_(" "+s(t("persona.cognome"))+" * ",1)])]),k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>v.value.cognome=a),type:"text",required:"",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:t("persona.enter_surname")},null,8,co),[[M,v.value.cognome]])])]),e("div",mo,[e("h3",bo,[o[28]||(o[28]=e("svg",{class:"w-3.5 h-3.5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),_(" "+s(t("persona.birth")),1)]),e("div",vo,[e("div",null,[e("label",_o,s(t("persona.birth_place")),1),k(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>v.value.nato_a=a),type:"text",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:t("persona.birth_place_example")},null,8,xo),[[M,v.value.nato_a]])]),e("div",null,[e("label",ko,s(t("persona.birth_date")),1),k(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>v.value.nato_il=a),type:"date",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"},null,512),[[M,v.value.nato_il]])])])]),e("div",ho,[e("h3",yo,[o[29]||(o[29]=e("svg",{class:"w-3.5 h-3.5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),_(" "+s(t("persona.death")),1)]),e("div",fo,[e("div",null,[e("label",wo,s(t("persona.death_place")),1),k(e("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>v.value.deceduto_a=a),type:"text",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors",placeholder:t("persona.death_place_example")},null,8,Co),[[M,v.value.deceduto_a]])]),e("div",null,[e("label",Mo,s(t("persona.death_date")),1),k(e("input",{"onUpdate:modelValue":o[5]||(o[5]=a=>v.value.deceduto_il=a),type:"date",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors"},null,512),[[M,v.value.deceduto_il]])])])])])]),e("div",zo,[e("h3",jo,[o[30]||(o[30]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),_(" "+s(t("persona.family_relations")),1)]),e("div",Bo,[e("div",Vo,[e("div",$o,[e("h4",Lo,s(t("persona.genitori")),1)]),e("div",null,[e("label",Io,s(t("persona.padre")),1),h.value||g(n).persona.padre?(d(),u("div",Uo,[g(n).persona.padre&&!h.value?(d(),u("div",{key:0,onClick:o[7]||(o[7]=a=>Y(g(n).persona.padre.id)),class:"group p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700 transition-colors cursor-pointer"},[e("div",Po,[o[32]||(o[32]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Eo,[e("p",So,s(g(n).persona.padre.nome_completo),1)]),e("button",{type:"button",onClick:o[6]||(o[6]=q(a=>{h.value="",g(n).persona.padre=null},["stop"])),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...o[31]||(o[31]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):h.value?(d(),u("div",Ao,[e("div",To,[e("span",Ho,s(Z(h.value)),1),e("button",{type:"button",onClick:o[8]||(o[8]=a=>h.value=""),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...o[33]||(o[33]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):f("",!0)])):f("",!0),e("div",No,[w(D,{modelValue:I.value,"onUpdate:modelValue":o[9]||(o[9]=a=>I.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:t("persona.search_father")||"Cerca padre per nome o cognome...","empty-option":t("persona.select_existing_father"),disabled:a=>a.id===parseInt(g(m).params.id),"select-class":"px-2.5 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},{option:C(({option:a})=>[_(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:_e,disabled:!I.value,class:"p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[...o[34]||(o[34]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Fo),e("button",{type:"button",onClick:ke,class:"p-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:t("persona.create_new_father")},[...o[35]||(o[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])],8,Do)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"])])]),e("div",null,[e("label",qo,s(t("persona.madre")),1),y.value||g(n).persona.madre?(d(),u("div",Oo,[g(n).persona.madre&&!y.value?(d(),u("div",{key:0,onClick:o[11]||(o[11]=a=>Y(g(n).persona.madre.id)),class:"group p-2 bg-pink-50 dark:bg-pink-900/20 rounded-lg border border-pink-200 dark:border-pink-800 hover:border-pink-300 dark:hover:border-pink-700 transition-colors cursor-pointer"},[e("div",Ro,[o[37]||(o[37]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-pink-100 dark:bg-pink-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-pink-600 dark:text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Go,[e("p",Jo,s(g(n).persona.madre.nome_completo),1)]),e("button",{type:"button",onClick:o[10]||(o[10]=q(a=>{y.value="",g(n).persona.madre=null},["stop"])),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...o[36]||(o[36]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):y.value?(d(),u("div",Ko,[e("div",Qo,[e("span",Wo,s(Z(y.value)),1),e("button",{type:"button",onClick:o[12]||(o[12]=a=>y.value=""),class:"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded"},[...o[38]||(o[38]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):f("",!0)])):f("",!0),e("div",Xo,[w(D,{modelValue:U.value,"onUpdate:modelValue":o[13]||(o[13]=a=>U.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:t("persona.search_mother")||"Cerca madre per nome o cognome...","empty-option":t("persona.select_existing_mother"),disabled:a=>a.id===parseInt(g(m).params.id),"select-class":"px-2.5 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},{option:C(({option:a})=>[_(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:xe,disabled:!U.value,class:"p-1.5 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[...o[39]||(o[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,Yo),e("button",{type:"button",onClick:he,class:"p-1.5 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors",title:t("persona.create_new_mother")},[...o[40]||(o[40]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])],8,Zo)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"])])])]),e("div",et,[e("div",null,[e("div",ot,[e("h4",tt,s(t("persona.consorti")),1),e("button",{type:"button",onClick:o[14]||(o[14]=a=>T.value=!0),class:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-900/30 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors"},[o[41]||(o[41]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),_(" "+s(t("persona.add")),1)])]),T.value?(d(),u("div",rt,[e("div",at,[w(D,{modelValue:$.value,"onUpdate:modelValue":o[16]||(o[16]=a=>$.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:t("persona.search_spouse")||"Cerca consorte per nome o cognome...","empty-option":t("persona.select_existing_spouse"),disabled:a=>a.id===parseInt(g(m).params.id)||Q.value.includes(a.id),"select-class":"px-3 py-2 border border-purple-300 dark:border-purple-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"},{option:C(({option:a})=>[_(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:ce,disabled:!$.value,class:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:t("persona.add_spouse")},[...o[42]||(o[42]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,st),e("button",{type:"button",onClick:o[15]||(o[15]=a=>T.value=!1),class:"p-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",title:t("common.cancel")},[...o[43]||(o[43]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,nt)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"]),e("div",lt,s(t("persona.or")),1),e("button",{type:"button",onClick:ye,class:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2"},[o[44]||(o[44]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),_(" "+s(t("persona.create_new_spouse")),1)])])])):f("",!0),z.value.length>0?(d(),u("div",it,[(d(!0),u(O,null,R(z.value,a=>(d(),u("div",{key:a.id,class:"group p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700 transition-colors space-y-2"},[e("div",dt,[o[46]||(o[46]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("div",pt,[e("p",ut,s(a.nome_completo),1)]),e("button",{type:"button",onClick:p=>me(a.id),class:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:t("persona.remove_spouse")},[...o[45]||(o[45]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,gt)]),e("div",ct,[e("div",null,[e("label",mt,s(t("persona.tipo_evento_legame")),1),k(e("select",{"onUpdate:modelValue":p=>a.tipo_evento_legame_id=p,class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},[e("option",vt,s(t("persona.select")),1),(d(!0),u(O,null,R(K.value,p=>(d(),u("option",{key:p.id,value:p.id},s(p.descrizione||p.nome),9,_t))),128))],8,bt),[[Ve,a.tipo_evento_legame_id]])]),e("div",null,[e("label",xt,s(t("persona.data_legame")),1),k(e("input",{"onUpdate:modelValue":p=>a.data_legame=p,type:"date",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,8,kt),[[M,a.data_legame]])]),e("div",null,[e("label",ht,s(t("persona.luogo_legame")),1),k(e("input",{"onUpdate:modelValue":p=>a.luogo_legame=p,type:"text",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:t("persona.birth_place_example")},null,8,yt),[[M,a.luogo_legame]])])]),e("div",ft,[e("div",null,[e("label",wt,s(t("persona.data_separazione")),1),k(e("input",{"onUpdate:modelValue":p=>a.data_separazione=p,type:"date",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},null,8,Ct),[[M,a.data_separazione]])]),e("div",null,[e("label",Mt,s(t("persona.luogo_separazione")),1),k(e("input",{"onUpdate:modelValue":p=>a.luogo_separazione=p,type:"text",class:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:t("persona.birth_place_example")},null,8,zt),[[M,a.luogo_separazione]])])])]))),128))])):(d(),u("p",jt,s(t("persona.no_spouse_added")),1))]),e("div",null,[e("div",Bt,[e("h4",Vt,s(t("persona.figli")),1),e("button",{type:"button",onClick:o[17]||(o[17]=a=>H.value=!0),class:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors"},[o[47]||(o[47]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),_(" "+s(t("persona.add")),1)])]),H.value?(d(),u("div",$t,[e("div",Lt,[w(D,{modelValue:L.value,"onUpdate:modelValue":o[19]||(o[19]=a=>L.value=a),options:B.value,"option-label":"nome_completo","option-value":"id",placeholder:t("persona.search_child")||"Cerca figlio per nome o cognome...","empty-option":t("persona.select_existing_child"),disabled:a=>a.id===parseInt(g(m).params.id)||W.value.includes(a.id),"select-class":"px-3 py-2 border border-green-300 dark:border-green-700 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"},{option:C(({option:a})=>[_(s(a.nome_completo)+" (ID: "+s(a.id)+") ",1)]),actions:C(()=>[e("button",{type:"button",onClick:be,disabled:!L.value,class:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:t("persona.add_child")},[...o[48]||(o[48]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,It),e("button",{type:"button",onClick:o[18]||(o[18]=a=>H.value=!1),class:"p-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors",title:t("common.cancel")},[...o[49]||(o[49]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ut)]),_:1},8,["modelValue","options","placeholder","empty-option","disabled"]),e("div",Pt,s(t("persona.or")),1),e("button",{type:"button",onClick:fe,class:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2"},[o[50]||(o[50]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),_(" "+s(t("persona.create_new_child")),1)])])])):f("",!0),j.value.length>0?(d(),u("div",Et,[(d(!0),u(O,null,R(j.value,a=>(d(),u("div",{key:a.id,class:"group p-2 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 hover:border-green-300 dark:hover:border-green-700 transition-colors"},[e("div",St,[o[52]||(o[52]=e("div",{class:"flex-shrink-0 w-7 h-7 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",At,[e("p",Tt,s(a.nome_completo),1)]),e("button",{type:"button",onClick:p=>ve(a.id),class:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:t("persona.remove_child")},[...o[51]||(o[51]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ht)])]))),128))])):(d(),u("p",Nt,s(t("persona.no_child_added")),1))])])]),!g(n).persona.padre&&!g(n).persona.madre&&(!g(n).persona.consorti||g(n).persona.consorti.length===0)&&(!g(n).persona.figli||g(n).persona.figli.length===0)?(d(),u("div",Ft,[o[53]||(o[53]=e("svg",{class:"w-10 h-10 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),e("p",Dt,s(t("persona.no_family_relations")),1)])):f("",!0)]),w(Pe,{"persona-id":parseInt(r.$route.params.id)},null,8,["persona-id"]),e("div",qt,[e("div",Ot,[w(Ee,{"persona-id":parseInt(r.$route.params.id),persona:g(n).persona,class:"w-full"},null,8,["persona-id","persona"])]),e("div",Rt,[ne.value?(d(),je(He,{key:0,luoghi:le.value,class:"w-full"},null,8,["luoghi"])):f("",!0)])]),e("div",Gt,[e("div",Jt,[w(Se,{"persona-id":parseInt(r.$route.params.id),class:"w-full"},null,8,["persona-id"])]),e("div",Kt,[w(Ae,{"persona-id":parseInt(r.$route.params.id),"persona-tags":((x=g(n).persona)==null?void 0:x.tags)||[],onTagsUpdated:de,class:"w-full"},null,8,["persona-id","persona-tags"])])])],32)):f("",!0)])])])}}};export{rr as default};
