import{h as K,i as S,l as T,r as j,B as L,A as Q,c as d,a as e,t as n,p as _,q as I,m as W,b as p,g as s,s as x,F as H,D as P,C as X,e as Z,o as l}from"./app-C8pxP4al.js";import{u as ee}from"./persone-DvchzblH.js";import{p as D}from"./personaService-Bq_mCYvl.js";import{_ as te,a as oe,b as re,c as se,e as ae}from"./TagSection-D5SfpQ_K.js";import{_ as ne}from"./MapView-QUXW0WgO.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"bg-gray-200 dark:bg-gray-900 h-full flex flex-col overflow-hidden"},de={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 flex-shrink-0",style:{"z-index":"100"}},pe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2"},ce={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2"},ge={class:"flex items-center gap-3"},ue={class:"text-xl font-bold text-gray-900 dark:text-white"},me={class:"text-xs text-gray-500 dark:text-gray-400"},he={class:"flex items-center gap-2"},xe={class:"flex-1 overflow-y-auto"},ke={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-4 pt-3"},_e={key:0,class:"flex items-center justify-center py-12"},ve={class:"text-center"},be={class:"text-gray-600 dark:text-gray-400"},fe={key:1,class:"space-y-3"},ye={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},we={class:"bg-gradient-to-r from-blue-500 to-blue-600 px-4 py-3"},ze={class:"flex items-center justify-between"},Ce={class:"flex items-center gap-3"},Me={class:"text-xl font-bold text-white"},je={class:"flex items-center gap-2 mt-1"},$e={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-500/20 text-white rounded-full text-xs font-medium"},Be={key:1,class:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-500/20 text-white rounded-full text-xs font-medium"},Le={class:"p-4"},He={class:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ve={key:0,class:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},Ne={class:"flex-1"},Ee={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},Se={key:0,class:"text-sm font-semibold text-gray-900 dark:text-white"},Te={key:1,class:"text-xs text-gray-600 dark:text-gray-300 mt-0.5"},Ie={key:1,class:"flex items-start gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"},De={class:"flex-1"},Re={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},Fe={key:0,class:"text-sm font-semibold text-gray-900 dark:text-white"},Ae={key:1,class:"text-xs text-gray-600 dark:text-gray-300 mt-0.5"},qe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},Ge={class:"text-base font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ue={key:0,class:"space-y-2"},Ye={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"},Je={class:"flex items-center gap-2"},Ke={class:"flex-1 min-w-0"},Qe={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},We={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors truncate"},Xe={class:"flex items-center gap-2"},Ze={class:"flex-1 min-w-0"},et={class:"text-xs font-medium text-gray-500 dark:text-gray-400"},tt={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors truncate"},ot={class:"space-y-2"},rt={key:0},st={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2"},at={class:"space-y-1.5"},nt=["onClick"],it={class:"flex items-center gap-2"},lt={class:"flex-1 min-w-0"},dt={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors truncate"},pt={key:0,class:"mt-1 space-y-0.5"},ct={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},gt={key:1,class:"text-xs text-gray-500 dark:text-gray-500"},ut={key:0},mt={key:1},ht={key:2},xt={key:2,class:"text-xs text-red-600 dark:text-red-400 italic"},kt={key:0},_t={key:1},vt={key:2},bt={key:1},ft={class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2"},yt={class:"space-y-1.5"},wt=["onClick"],zt={class:"flex items-center gap-2"},Ct={class:"flex-1 min-w-0"},Mt={class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors truncate"},jt={key:0,class:"text-center py-6"},$t={class:"text-sm text-gray-500 dark:text-gray-400"},Bt={class:"grid grid-cols-1 lg:grid-cols-6 gap-4 items-stretch",style:{"min-height":"680px"}},Lt={class:"lg:col-span-2 flex w-full"},Ht={class:"lg:col-span-4 flex w-full"},Pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vt={class:"flex"},Nt={class:"flex"},Et={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},St={class:"flex items-center justify-between mb-4"},Tt={class:"text-base font-semibold text-gray-900 dark:text-white flex items-center gap-2"},It=["title"],Dt={class:"flex flex-col items-center space-y-4 py-4"},Rt={key:0,class:"flex flex-col items-center space-y-2 w-full"},Ft={class:"flex justify-center gap-4 w-full"},At={class:"flex flex-col items-center space-y-2"},qt={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Gt={class:"text-sm font-semibold text-gray-900 dark:text-white"},Ot={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Ut={class:"text-sm font-semibold text-gray-900 dark:text-white"},Yt={class:"flex flex-col items-center space-y-2"},Jt={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Kt={class:"text-sm font-semibold text-gray-900 dark:text-white"},Qt={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},Wt={class:"text-sm font-semibold text-gray-900 dark:text-white"},Xt={key:0,class:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"},Zt={key:1,class:"flex flex-col items-center space-y-2"},eo={class:"flex justify-center gap-4"},to={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},oo={class:"text-sm font-semibold text-gray-900 dark:text-white"},ro={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},so={class:"text-sm font-semibold text-gray-900 dark:text-white"},ao={key:2,class:"flex flex-col items-center space-y-2"},no={class:"flex justify-center gap-2 flex-wrap"},io=["onClick"],lo={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},po={class:"text-sm font-semibold text-gray-900 dark:text-white"},co={class:"persona-card bg-gradient-to-r from-blue-500 to-blue-600 border-blue-600 text-white shadow-lg"},go={class:"text-xs text-blue-100 mb-1"},uo={class:"text-base font-bold"},mo={key:3,class:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"},ho={key:4,class:"flex flex-col items-center space-y-2"},xo={class:"flex justify-center gap-2 flex-wrap max-w-2xl"},ko=["onClick"],_o={class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},vo={class:"text-sm font-semibold text-gray-900 dark:text-white"},bo={__name:"Show",setup(fo){const k=Q(),R=Z(),o=ee(),v=K(),r=i=>v.t(i);S(()=>{Object.keys(v.translations).length===0&&v.loadTranslations()}),T(()=>v.locale,()=>{v.loadTranslations()});const b=j(null),f=j(null),y=j(null),w=j(null),z=j([]),F=L(()=>b.value||f.value||y.value||w.value),A=L(()=>{var i,t;return((i=o.persona)==null?void 0:i.padre)||((t=o.persona)==null?void 0:t.madre)}),q=L(()=>{var a,h,C,M;const i=((a=o.persona)==null?void 0:a.nato_a)&&o.persona.nato_a!=="0"&&o.persona.nato_a!=="",t=((h=o.persona)==null?void 0:h.deceduto_a)&&o.persona.deceduto_a!=="0"&&o.persona.deceduto_a!=="",u=z.value.some(c=>c.luogo&&c.luogo!=="0"&&c.luogo!==""),m=(M=(C=o.persona)==null?void 0:C.consorti)==null?void 0:M.some(c=>c.luogo_legame&&c.luogo_legame!=="0"&&c.luogo_legame!=="");return i||t||m||u}),G=L(()=>{var u,m,a,h,C,M;const i=[],t=((u=o.persona)==null?void 0:u.nome_completo)||`${(m=o.persona)==null?void 0:m.nome} ${(a=o.persona)==null?void 0:a.cognome}`;return(h=o.persona)!=null&&h.nato_a&&o.persona.nato_a!=="0"&&o.persona.nato_a!==""&&i.push({nome:t+" - "+r("persona.birth_place"),luogo:o.persona.nato_a,tipo:"nascita",data:o.persona.nato_il}),(C=o.persona)!=null&&C.deceduto_a&&o.persona.deceduto_a!=="0"&&o.persona.deceduto_a!==""&&i.push({nome:t+" - "+r("persona.death_place"),luogo:o.persona.deceduto_a,tipo:"morte",data:o.persona.deceduto_il}),(M=o.persona)!=null&&M.consorti&&o.persona.consorti.length>0&&o.persona.consorti.forEach(c=>{var B,E;if(c.luogo_legame&&c.luogo_legame!=="0"&&c.luogo_legame!==""){const J=c.nome_completo||`${c.nome} ${c.cognome}`;i.push({nome:t+" - "+r("eventi.marriage")+" con "+J,luogo:c.luogo_legame,tipo:"matrimonio",data:c.data_legame,descrizione:((B=c.tipo_evento_legame)==null?void 0:B.descrizione)||((E=c.tipo_evento_legame)==null?void 0:E.nome)||""})}}),z.value.forEach(c=>{if(c.luogo&&c.luogo!=="0"&&c.luogo!==""){const B=O(c.tipo_evento);i.push({nome:t+" - "+B+": "+c.titolo,luogo:c.luogo,tipo:c.tipo_evento,data:c.data_evento,descrizione:c.descrizione})}}),i}),O=i=>({nascita:r("eventi.birth"),battesimo:r("eventi.baptism"),comunione:r("eventi.communion"),cresima:r("eventi.confirmation"),primo_giorno_asilo:r("eventi.first_day_kindergarten"),primo_giorno_scuola:r("eventi.first_day_school"),licenza_elementare:r("eventi.elementary_license"),licenza_media:r("eventi.middle_school_license"),diploma_superiore:r("eventi.high_school_diploma"),laurea:r("eventi.graduation"),matrimonio:r("eventi.marriage"),divorzio:r("eventi.divorce"),lavoro:r("eventi.work"),cambio_lavoro:r("eventi.job_change"),militare:r("eventi.military"),guerra:r("eventi.war"),trasloco:r("eventi.move"),emigrazione:r("eventi.emigration"),immigrazione:r("eventi.immigration"),malattia:r("eventi.illness"),guarigione:r("eventi.recovery"),pensione:r("eventi.retirement"),morte:r("eventi.death"),sepoltura:r("eventi.burial"),altro:r("eventi.other")})[i]||i,V=async()=>{var i;if(k.params.id)try{const t=await ae.getByPersona(parseInt(k.params.id));z.value=((i=t.data)==null?void 0:i.data)||t.data||[],console.log(`Caricati ${z.value.length} eventi per la mappa`)}catch(t){console.error("Errore nel caricamento degli eventi per la mappa:",t),z.value=[]}},N=async()=>{if(o.persona){if(o.persona.padre)try{const i=await D.getById(o.persona.padre.id),t=i.data.data||i.data;t.padre&&(b.value=t.padre),t.madre&&(f.value=t.madre)}catch(i){console.error("Errore nel caricamento dei nonni paterni:",i)}if(o.persona.madre)try{const i=await D.getById(o.persona.madre.id),t=i.data.data||i.data;t.padre&&(y.value=t.padre),t.madre&&(w.value=t.madre)}catch(i){console.error("Errore nel caricamento dei nonni materni:",i)}}},$=i=>{if(!i)return"-";if(i.includes("/"))return i;try{const t=new Date(i);if(isNaN(t.getTime()))return i;const u=String(t.getDate()).padStart(2,"0"),m=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${u}/${m}/${a}`}catch{return i}},U=async()=>{await o.fetchPersona(k.params.id)};S(async()=>{await o.fetchPersona(k.params.id),await N(),await V()}),T(()=>k.params.id,async i=>{i&&(await o.fetchPersona(i),await N(),await V())});const g=i=>{window.location.href=`/persone/${i}`},Y=async()=>{confirm(r("persona.delete_confirm"))&&(await o.deletePersona(k.params.id)).success&&R.push("/persone")};return(i,t)=>{var m;const u=W("router-link");return l(),d("div",le,[e("div",de,[e("div",pe,[e("div",ce,[e("div",ge,[e("div",null,[e("h1",ue,n(r("persona.detail_title")),1),e("p",me,n(r("persona.detail_subtitle")),1)])]),e("div",he,[_(u,{to:"/persone",class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors"},{default:I(()=>[t[9]||(t[9]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),e("span",null,n(r("persona.back_to_list")),1)]),_:1}),_(u,{to:`/persone/${i.$route.params.id}/edit`,class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm"},{default:I(()=>[t[10]||(t[10]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)),e("span",null,n(r("common.edit")),1)]),_:1},8,["to"]),e("button",{onClick:Y,class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-sm"},[t[11]||(t[11]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),e("span",null,n(r("common.delete")),1)])])])])]),e("div",xe,[e("div",ke,[s(o).loading?(l(),d("div",_e,[e("div",ve,[t[12]||(t[12]=e("div",{class:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-3"},null,-1)),e("p",be,n(r("persona.loading_info")),1)])])):s(o).persona?(l(),d("div",fe,[e("div",ye,[e("div",we,[e("div",ze,[e("div",Ce,[t[15]||(t[15]=e("div",{class:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",null,[e("h2",Me,n(s(o).persona.nome_completo||`${s(o).persona.nome} ${s(o).persona.cognome}`),1),e("div",je,[s(o).persona.deceduto_il?(l(),d("span",$e,[t[13]||(t[13]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),x(" "+n(r("persona.deceased")),1)])):(l(),d("span",Be,[t[14]||(t[14]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),x(" "+n(r("persona.living")),1)]))])])])])]),e("div",Le,[e("h3",He,[t[16]||(t[16]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),x(" "+n(r("persona.personal_info")),1)]),e("div",Pe,[s(o).persona.nato_il||s(o).persona.nato_a?(l(),d("div",Ve,[t[18]||(t[18]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Ne,[e("p",Ee,n(r("persona.birth")),1),s(o).persona.nato_il?(l(),d("p",Se,n($(s(o).persona.nato_il)),1)):p("",!0),s(o).persona.nato_a?(l(),d("p",Te,[t[17]||(t[17]=e("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),x(" "+n(s(o).persona.nato_a),1)])):p("",!0)])])):p("",!0),s(o).persona.deceduto_il||s(o).persona.deceduto_a?(l(),d("div",Ie,[t[20]||(t[20]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",De,[e("p",Re,n(r("persona.death")),1),s(o).persona.deceduto_il?(l(),d("p",Fe,n($(s(o).persona.deceduto_il)),1)):p("",!0),s(o).persona.deceduto_a?(l(),d("p",Ae,[t[19]||(t[19]=e("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),x(" "+n(s(o).persona.deceduto_a),1)])):p("",!0)])])):p("",!0)])])]),e("div",qe,[e("h3",Ge,[t[21]||(t[21]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),x(" "+n(r("persona.family_relations")),1)]),e("div",Oe,[s(o).persona.padre||s(o).persona.madre?(l(),d("div",Ue,[e("h4",Ye,n(r("persona.genitori")),1),s(o).persona.padre?(l(),d("div",{key:0,onClick:t[0]||(t[0]=a=>g(s(o).persona.padre.id)),class:"group p-2.5 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700 transition-colors cursor-pointer"},[e("div",Je,[t[22]||(t[22]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Ke,[e("p",Qe,n(r("persona.padre")),1),e("p",We,n(s(o).persona.padre.nome_completo),1)]),t[23]||(t[23]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):p("",!0),s(o).persona.madre?(l(),d("div",{key:1,onClick:t[1]||(t[1]=a=>g(s(o).persona.madre.id)),class:"group p-2.5 bg-pink-50 dark:bg-pink-900/20 rounded-lg border border-pink-200 dark:border-pink-800 hover:border-pink-300 dark:hover:border-pink-700 transition-colors cursor-pointer"},[e("div",Xe,[t[24]||(t[24]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-pink-100 dark:bg-pink-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-pink-600 dark:text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",Ze,[e("p",et,n(r("persona.madre")),1),e("p",tt,n(s(o).persona.madre.nome_completo),1)]),t[25]||(t[25]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])):p("",!0)])):p("",!0),e("div",ot,[s(o).persona.consorti&&s(o).persona.consorti.length>0?(l(),d("div",rt,[e("h4",st,n(r("persona.consorti")),1),e("div",at,[(l(!0),d(H,null,P(s(o).persona.consorti,a=>(l(),d("div",{key:a.id,onClick:h=>g(a.id),class:"group p-2.5 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700 transition-colors cursor-pointer"},[e("div",it,[t[26]||(t[26]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-100 dark:bg-purple-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("div",lt,[e("p",dt,n(a.nome_completo),1),a.tipo_evento_legame||a.data_legame||a.luogo_legame||a.data_separazione||a.luogo_separazione?(l(),d("div",pt,[a.tipo_evento_legame?(l(),d("p",ct,n(a.tipo_evento_legame.descrizione||a.tipo_evento_legame.nome),1)):p("",!0),a.data_legame||a.luogo_legame?(l(),d("p",gt,[a.data_legame?(l(),d("span",ut,n($(a.data_legame)),1)):p("",!0),a.data_legame&&a.luogo_legame?(l(),d("span",mt," - ")):p("",!0),a.luogo_legame?(l(),d("span",ht,n(a.luogo_legame),1)):p("",!0)])):p("",!0),a.data_separazione||a.luogo_separazione?(l(),d("p",xt,[x(n(r("persona.data_separazione"))+": ",1),a.data_separazione?(l(),d("span",kt,n($(a.data_separazione)),1)):p("",!0),a.data_separazione&&a.luogo_separazione?(l(),d("span",_t," - ")):p("",!0),a.luogo_separazione?(l(),d("span",vt,n(a.luogo_separazione),1)):p("",!0)])):p("",!0)])):p("",!0)]),t[27]||(t[27]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],8,nt))),128))])])):p("",!0),s(o).persona.figli&&s(o).persona.figli.length>0?(l(),d("div",bt,[e("h4",ft,n(r("persona.figli"))+" ("+n(s(o).persona.figli.length)+")",1),e("div",yt,[(l(!0),d(H,null,P(s(o).persona.figli,a=>(l(),d("div",{key:a.id,onClick:h=>g(a.id),class:"group p-2.5 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 hover:border-green-300 dark:hover:border-green-700 transition-colors cursor-pointer"},[e("div",zt,[t[28]||(t[28]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 dark:bg-green-900/40 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",Ct,[e("p",Mt,n(a.nome_completo),1)]),t[29]||(t[29]=e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],8,wt))),128))])])):p("",!0)])]),!s(o).persona.padre&&!s(o).persona.madre&&(!s(o).persona.consorti||s(o).persona.consorti.length===0)&&(!s(o).persona.figli||s(o).persona.figli.length===0)?(l(),d("div",jt,[t[30]||(t[30]=e("svg",{class:"w-10 h-10 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),e("p",$t,n(r("persona.no_family_relations")),1)])):p("",!0)]),_(te,{"persona-id":parseInt(i.$route.params.id)},null,8,["persona-id"]),e("div",Bt,[e("div",Lt,[_(oe,{"persona-id":parseInt(i.$route.params.id),persona:s(o).persona,class:"w-full"},null,8,["persona-id","persona"])]),e("div",Ht,[q.value?(l(),X(ne,{key:0,luoghi:G.value,class:"w-full",style:{"z-index":"1"}},null,8,["luoghi"])):p("",!0)])]),e("div",Pt,[e("div",Vt,[_(re,{"persona-id":parseInt(i.$route.params.id),class:"w-full"},null,8,["persona-id"])]),e("div",Nt,[_(se,{"persona-id":parseInt(i.$route.params.id),"persona-tags":((m=s(o).persona)==null?void 0:m.tags)||[],onTagsUpdated:U,class:"w-full"},null,8,["persona-id","persona-tags"])])]),e("div",Et,[e("div",St,[e("h3",Tt,[t[31]||(t[31]=e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),x(" "+n(r("persona.family_tree")),1)]),e("button",{onClick:t[2]||(t[2]=a=>i.window.print()),class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:r("persona.print_family_tree")||"Stampa albero genealogico"},[t[32]||(t[32]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1)),x(" "+n(r("persona.print")||"Stampa"),1)],8,It)]),e("div",Dt,[F.value?(l(),d("div",Rt,[e("div",Ft,[e("div",At,[b.value?(l(),d("div",{key:0,onClick:t[3]||(t[3]=a=>g(b.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",qt,n(r("persona.grandfather_paternal")),1),e("div",Gt,n(b.value.nome_completo),1)])):p("",!0),f.value?(l(),d("div",{key:1,onClick:t[4]||(t[4]=a=>g(f.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",Ot,n(r("persona.grandmother_paternal")),1),e("div",Ut,n(f.value.nome_completo),1)])):p("",!0)]),e("div",Yt,[y.value?(l(),d("div",{key:0,onClick:t[5]||(t[5]=a=>g(y.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",Jt,n(r("persona.grandfather_maternal")),1),e("div",Kt,n(y.value.nome_completo),1)])):p("",!0),w.value?(l(),d("div",{key:1,onClick:t[6]||(t[6]=a=>g(w.value.id)),class:"persona-card bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 hover:border-amber-300 dark:hover:border-amber-700"},[e("div",Qt,n(r("persona.grandmother_maternal")),1),e("div",Wt,n(w.value.nome_completo),1)])):p("",!0)])]),A.value?(l(),d("div",Xt)):p("",!0)])):p("",!0),s(o).persona.padre||s(o).persona.madre?(l(),d("div",Zt,[e("div",eo,[s(o).persona.padre?(l(),d("div",{key:0,onClick:t[7]||(t[7]=a=>g(s(o).persona.padre.id)),class:"persona-card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-700"},[e("div",to,n(r("persona.padre")),1),e("div",oo,n(s(o).persona.padre.nome_completo),1)])):p("",!0),s(o).persona.madre?(l(),d("div",{key:1,onClick:t[8]||(t[8]=a=>g(s(o).persona.madre.id)),class:"persona-card bg-pink-50 dark:bg-pink-900/20 border-pink-200 dark:border-pink-800 hover:border-pink-300 dark:hover:border-pink-700"},[e("div",ro,n(r("persona.madre")),1),e("div",so,n(s(o).persona.madre.nome_completo),1)])):p("",!0)]),t[33]||(t[33]=e("div",{class:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"},null,-1))])):p("",!0),s(o).persona.consorti&&s(o).persona.consorti.length>0?(l(),d("div",ao,[e("div",no,[(l(!0),d(H,null,P(s(o).persona.consorti,a=>(l(),d("div",{key:a.id,onClick:h=>g(a.id),class:"persona-card bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 hover:border-purple-300 dark:hover:border-purple-700"},[e("div",lo,n(r("persona.consorte")),1),e("div",po,n(a.nome_completo),1)],8,io))),128))]),t[34]||(t[34]=e("div",{class:"w-0.5 h-4 bg-gray-300 dark:bg-gray-600"},null,-1))])):p("",!0),e("div",co,[e("div",go,n(r("persona.persona")),1),e("div",uo,n(s(o).persona.nome_completo||`${s(o).persona.nome} ${s(o).persona.cognome}`),1)]),s(o).persona.figli&&s(o).persona.figli.length>0?(l(),d("div",mo)):p("",!0),s(o).persona.figli&&s(o).persona.figli.length>0?(l(),d("div",ho,[e("div",xo,[(l(!0),d(H,null,P(s(o).persona.figli,a=>(l(),d("div",{key:a.id,onClick:h=>g(a.id),class:"persona-card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 hover:border-green-300 dark:hover:border-green-700"},[e("div",_o,n(r("persona.child")),1),e("div",vo,n(a.nome_completo),1)],8,ko))),128))])])):p("",!0)])])])):p("",!0)])])])}}},$o=ie(bo,[["__scopeId","data-v-661dd556"]]);export{$o as default};
